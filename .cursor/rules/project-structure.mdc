---
description: Project directory structure overview
alwaysApply: false
---

# LobeChat Project Structure

## Complete Project Structure

This project uses common monorepo structure. The workspace packages name use `@lobechat/` namespace.

**note**: some not very important files are not shown for simplicity.

```plaintext
lobe-chat/
├── apps/
│   └── desktop/
├── docs/
│   ├── changelog/
│   ├── development/
│   ├── self-hosting/
│   └── usage/
├── locales/
│   ├── en-US/
│   └── zh-CN/
├── packages/
│   ├── agent-runtime/
│   ├── builtin-agents/
│   ├── builtin-tool-*/           # builtin tool packages
│   ├── const/
│   ├── context-engine/
│   ├── conversation-flow/
│   ├── database/
│   │   └── src/
│   │       ├── models/
│   │       ├── schemas/
│   │       └── repositories/
│   ├── desktop-bridge/
│   ├── electron-client-ipc/
│   ├── electron-server-ipc/
│   ├── fetch-sse/
│   ├── file-loaders/
│   ├── memory-user-memory/
│   ├── model-bank/
│   ├── model-runtime/
│   │   └── src/
│   │       ├── core/
│   │       └── providers/
│   ├── obervability-otel/
│   ├── prompts/
│   ├── python-interpreter/
│   ├── ssrf-safe-fetch/
│   ├── types/
│   ├── utils/
│   └── web-crawler/
├── public/
├── scripts/
├── src/
│   ├── app/
│   │   ├── (backend)/
│   │   │   ├── api/
│   │   │   ├── f/
│   │   │   ├── market/
│   │   │   ├── middleware/
│   │   │   ├── oidc/
│   │   │   ├── trpc/
│   │   │   └── webapi/
│   │   ├── [variants]/
│   │   │   ├── (auth)/
│   │   │   ├── (main)/
│   │   │   ├── (mobile)/
│   │   │   ├── onboarding/
│   │   │   └── router/
│   │   └── desktop/
│   ├── components/
│   ├── config/
│   ├── const/
│   ├── envs/
│   ├── features/
│   ├── helpers/
│   ├── hooks/
│   ├── layout/
│   │   ├── AuthProvider/
│   │   └── GlobalProvider/
│   ├── libs/
│   │   ├── better-auth/
│   │   ├── oidc-provider/
│   │   └── trpc/
│   ├── locales/
│   │   └── default/
│   ├── server/
│   │   ├── featureFlags/
│   │   ├── globalConfig/
│   │   ├── modules/
│   │   ├── routers/
│   │   │   ├── async/
│   │   │   ├── lambda/
│   │   │   ├── mobile/
│   │   │   └── tools/
│   │   └── services/
│   ├── services/
│   ├── store/
│   │   ├── agent/
│   │   ├── chat/
│   │   └── user/
│   ├── styles/
│   ├── tools/
│   ├── types/
│   └── utils/
└── package.json
```

## Architecture Map

- UI Components: `src/components`, `src/features`
- Global providers: `src/layout`
- Zustand stores: `src/store`
- Client Services: `src/services/`
- API Routers:
  - `src/app/(backend)/webapi` (REST)
  - `src/server/routers/{async|lambda|mobile|tools}` (tRPC)
- Server:
  - Services (can access serverDB): `src/server/services`
  - Modules (can't access db): `src/server/modules`
  - Feature Flags: `src/server/featureFlags`
  - Global Config: `src/server/globalConfig`
- Database:
  - Schema (Drizzle): `packages/database/src/schemas`
  - Model (CRUD): `packages/database/src/models`
  - Repository (bff-queries): `packages/database/src/repositories`
- Third-party Integrations: `src/libs` — analytics, oidc etc.
- Builtin Tools: `src/tools`, `packages/builtin-tool-*`

## Data Flow Architecture

React UI → Store Actions → Client Service → TRPC Lambda → Server Services -> DB Model → PostgreSQL (Remote)
