# å›½é™…åŒ–å®ç°æŒ‡å—

æ¬¢è¿é˜…è¯» LobeChat å›½é™…åŒ–å®ç°æŒ‡å—ã€‚æœ¬æ–‡æ¡£å°†æŒ‡å¯¼ä½ äº†è§£ LobeChat çš„å›½é™…åŒ–æœºåˆ¶ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç»“æ„ã€å¦‚ä½•æ·»åŠ æ–°è¯­ç§ã€‚LobeChat é‡‡ç”¨ `i18next` å’Œ `lobe-i18n` ä½œä¸ºå›½é™…åŒ–è§£å†³æ–¹æ¡ˆï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›æµç•…çš„å¤šè¯­è¨€æ”¯æŒã€‚

#### TOC

- [å›½é™…åŒ–æ¦‚è¿°](#å›½é™…åŒ–æ¦‚è¿°)
- [æ–‡ä»¶ç»“æ„](#æ–‡ä»¶ç»“æ„)
- [æ ¸å¿ƒå®ç°é€»è¾‘](#æ ¸å¿ƒå®ç°é€»è¾‘)
- [æ·»åŠ æ–°çš„è¯­è¨€æ”¯æŒ](#æ·»åŠ æ–°çš„è¯­è¨€æ”¯æŒ)
- [èµ„æºå’Œè¿›ä¸€æ­¥é˜…è¯»](#èµ„æºå’Œè¿›ä¸€æ­¥é˜…è¯»)

## å›½é™…åŒ–æ¦‚è¿°

å›½é™…åŒ–ï¼ˆInternationalizationï¼Œç®€ç§°ä¸º i18nï¼‰æ˜¯ä¸€ä¸ªè®©åº”ç”¨èƒ½å¤Ÿé€‚åº”ä¸åŒè¯­è¨€å’Œåœ°åŒºçš„è¿‡ç¨‹ã€‚åœ¨ LobeChat ä¸­ï¼Œæˆ‘ä»¬æ”¯æŒå¤šç§è¯­è¨€ï¼Œå¹¶é€šè¿‡ `i18next` åº“æ¥å®ç°è¯­è¨€çš„åŠ¨æ€åˆ‡æ¢å’Œå†…å®¹çš„æœ¬åœ°åŒ–ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®© LobeChat èƒ½å¤Ÿä¸ºå…¨çƒç”¨æˆ·æä¾›æœ¬åœ°åŒ–çš„ä½“éªŒã€‚

## æ–‡ä»¶ç»“æ„

åœ¨ LobeChat çš„é¡¹ç›®ä¸­ï¼Œå›½é™…åŒ–ç›¸å…³çš„æ–‡ä»¶è¢«ç»„ç»‡å¦‚ä¸‹ï¼š

- `src/locales/default`: åŒ…å«é»˜è®¤å¼€å‘è¯­è¨€ï¼ˆä¸­æ–‡ï¼‰çš„ç¿»è¯‘æ–‡ä»¶ï¼Œæˆ‘ä»¬ä½œä¸ºä¸­æ–‡ã€‚
- `locales`: åŒ…å«æ‰€æœ‰æ”¯æŒçš„è¯­è¨€æ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªè¯­è¨€æ–‡ä»¶å¤¹ä¸­åŒ…å«ç›¸åº”è¯­è¨€çš„ç¿»è¯‘æ–‡ä»¶ï¼Œè¿™äº›ç¿»è¯‘æ–‡ä»¶é€šè¿‡ lobe-i18n è‡ªåŠ¨ç”Ÿæˆã€‚

åœ¨ `src/locales` è¿™ä¸ªç›®å½•ç»“æ„ä¸­ï¼Œ`default` æ–‡ä»¶å¤¹åŒ…å«äº†åŸå§‹çš„ç¿»è¯‘æ–‡ä»¶ï¼ˆä¸­æ–‡ï¼‰ï¼Œå…¶ä»–æ¯ä¸ªè¯­è¨€æ–‡ä»¶å¤¹åˆ™åŒ…å«äº†ç›¸åº”è¯­è¨€çš„ JSON ç¿»è¯‘æ–‡ä»¶ã€‚æ¯ä¸ªè¯­è¨€æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶å¯¹åº” `default` æ–‡ä»¶å¤¹ä¸­çš„ TypeScript æ–‡ä»¶ï¼Œç¡®ä¿äº†å„è¯­ç§ä¹‹é—´çš„ç¿»è¯‘æ–‡ä»¶ç»“æ„ä¸€è‡´æ€§ã€‚

```
src/locales
â”œâ”€â”€ create.ts
â”œâ”€â”€ default
â”‚   â”œâ”€â”€ chat.ts
â”‚   â”œâ”€â”€ common.ts
â”‚   â”œâ”€â”€ error.ts
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ market.ts
â”‚   â”œâ”€â”€ migration.ts
â”‚   â”œâ”€â”€ plugin.ts
â”‚   â”œâ”€â”€ setting.ts
â”‚   â”œâ”€â”€ tool.ts
â”‚   â””â”€â”€ welcome.ts
â””â”€â”€ resources.ts
```

é€šè¿‡ lobe-i18n è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š

```
locales
â”œâ”€â”€ ar
â”‚   â”œâ”€â”€ chat.json
â”‚   â”œâ”€â”€ common.json
â”‚   â”œâ”€â”€ error.json
â”‚   â””â”€â”€ ... (å…¶ä»–ç¿»è¯‘æ–‡ä»¶)
â”œâ”€â”€ de-DE
â”‚   â”œâ”€â”€ chat.json
â”‚   â”œâ”€â”€ common.json
â”‚   â”œâ”€â”€ error.json
â”‚   â””â”€â”€ ... (å…¶ä»–ç¿»è¯‘æ–‡ä»¶)
â”œâ”€â”€ en-US
â”œâ”€â”€ ... (å…¶ä»–è¯­ç§ç›®å½•ï¼‰
â”œâ”€â”€ zh-CN
â””â”€â”€ zh-TW
```

## æ ¸å¿ƒå®ç°é€»è¾‘

LobeChat çš„å›½é™…åŒ–æ ¸å¿ƒå®ç°é€»è¾‘å¦‚ä¸‹ï¼š

- ä½¿ç”¨ `i18next` åº“è¿›è¡Œåˆå§‹åŒ–å’Œé…ç½®ã€‚
- ä½¿ç”¨ `i18next-browser-languagedetector` è‡ªåŠ¨æ£€æµ‹ç”¨æˆ·çš„è¯­è¨€åå¥½ã€‚
- ä½¿ç”¨ `i18next-resources-to-backend` åŠ¨æ€åŠ è½½ç¿»è¯‘èµ„æºã€‚
- æ ¹æ®ç”¨æˆ·çš„è¯­è¨€åå¥½ï¼Œè®¾ç½® HTML æ–‡æ¡£çš„æ–¹å‘ï¼ˆLTR æˆ– RTLï¼‰ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€åŒ–çš„ä¼ªä»£ç ç¤ºä¾‹ï¼Œç”¨ä»¥è¯´æ˜ LobeChat å›½é™…åŒ–çš„æ ¸å¿ƒå®ç°é€»è¾‘ï¼š

```ts
import i18n from 'i18next';
import LanguageDetector from 'i18next-browser-languagedetector';
import resourcesToBackend from 'i18next-resources-to-backend';
import { isRtlLang } from 'rtl-detect';

// åˆ›å»º i18n å®ä¾‹å¹¶é…ç½®
const createI18nInstance = (lang) => {
  const i18nInstance = i18n
    .use(LanguageDetector) // ä½¿ç”¨è¯­è¨€æ£€æµ‹
    .use(
      resourcesToBackend((language, namespace) => {
        // åŠ¨æ€åŠ è½½å¯¹åº”è¯­è¨€çš„ç¿»è¯‘èµ„æº
        return import(`path/to/locales/${language}/${namespace}.json`);
      }),
    );

  // ç›‘å¬è¯­è¨€å˜åŒ–äº‹ä»¶ï¼ŒåŠ¨æ€è®¾ç½®æ–‡æ¡£æ–¹å‘
  i18nInstance.on('languageChanged', (language) => {
    const direction = isRtlLang(language) ? 'rtl' : 'ltr';
    document.documentElement.dir = direction; // è®¾ç½® HTML æ–‡æ¡£æ–¹å‘
  });

  // åˆå§‹åŒ– i18n å®ä¾‹
  i18nInstance.init({
    // ç›¸å…³é…ç½®
  });

  return i18nInstance;
};
```

åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ `i18next` å’Œç›¸å…³æ’ä»¶æ¥åˆå§‹åŒ–å›½é™…åŒ–è®¾ç½®ã€‚æˆ‘ä»¬åŠ¨æ€å¯¼å…¥äº†ç¿»è¯‘èµ„æºï¼Œå¹¶å“åº”è¯­è¨€å˜åŒ–äº‹ä»¶æ¥è°ƒæ•´é¡µé¢çš„æ–‡æœ¬æ–¹å‘ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸º LobeChat æä¾›äº†çµæ´»çš„å¤šè¯­è¨€æ”¯æŒèƒ½åŠ›ã€‚

## æ·»åŠ æ–°çš„è¯­è¨€æ”¯æŒ

æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹å·¥ä½œï¼Œå·²ç»æ”¯æŒäº†å…¨çƒå¤šç§è¯­è¨€ï¼š

- [âœ¨ feat: adding Arabic Language Support #1049](https://github.com/lobehub/lobe-chat/pull/1049)
- [ğŸŒ style: Add Vietnamese files and add the vi-VN option in the General Settings #860](https://github.com/lobehub/lobe-chat/pull/860)
- [ğŸŒ style: support it-IT nl-NL and pl-PL locales #759](https://github.com/lobehub/lobe-chat/pull/759)
- [ğŸŒ feat(locale): Add fr-FR (#637) #645](https://github.com/lobehub/lobe-chat/pull/645)
- [ğŸŒ Add russian localy #137](https://github.com/lobehub/lobe-chat/pull/137)

è¦æ·»åŠ æ–°çš„è¯­ç§æ”¯æŒï¼Œ è¯¦ç»†æ­¥éª¤è¯·å‚è€ƒï¼š[æ–°è¯­ç§æ·»åŠ æŒ‡å—](/zh/docs/development/internationalization/add-new-locale)ã€‚

## èµ„æºå’Œè¿›ä¸€æ­¥é˜…è¯»

- [i18next å®˜æ–¹æ–‡æ¡£](https://www.i18next.com/)
- [lobe-i18n å·¥å…·è¯´æ˜](https://github.com/lobehub/lobe-cli-toolbox/tree/master/packages/lobe-i18n)

é€šè¿‡éµå¾ªæœ¬æŒ‡å—ï¼Œä½ å¯ä»¥æ›´å¥½åœ°ç†è§£å’Œå‚ä¸åˆ° LobeChat çš„å›½é™…åŒ–å·¥ä½œä¸­ï¼Œä¸ºå…¨çƒç”¨æˆ·æä¾›æ— ç¼çš„å¤šè¯­è¨€ä½“éªŒã€‚
