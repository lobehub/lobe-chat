---
title: Anthropic Claude 系列 Tool Calling
---

# Anthropic Claude 系列 Tool Calling

## Claude 3.5 Sonnet

### 简单调用指令：天气查询

测试指令：指令 ①

<Video src="https://github.com/lobehub/lobe-chat/assets/28616219/42a6980c-ea2a-44fd-b61f-a7989827f5a5" />

<Image
  alt="Claude 3.5 Sonnet 简单指令的 Tool Calling"
  src="https://github.com/lobehub/lobe-chat/assets/28616219/71146b75-2c73-48c3-9688-1d8814d2a791"
/>

  <details>
    <summary>流式 Tool Calling 原始输出：</summary>

```yml
[stream start] 2024-6-24 20:24:40.289
[chunk 0] 2024-6-24 20:24:40.294

{"type":"message_start","message":{"id":"msg_01Q8ytAh2wiJHwKt7qEdaUsP","type":"message","role":"assistant","model":"claude-3-5-sonnet-20240620","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":485,"output_tokens":4}}}
[chunk 1] 2024-6-24 20:24:40.294

{"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}}
[chunk 2] 2024-6-24 20:24:40.311

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"好的,"}}
[chunk 3] 2024-6-24 20:24:40.312

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"我会"}}
[chunk 4] 2024-6-24 20:24:40.313

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"为"}}
[chunk 5] 2024-6-24 20:24:40.356

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"您"}}
[chunk 6] 2024-6-24 20:24:40.358

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"查"}}
[chunk 7] 2024-6-24 20:24:40.364

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"询杭州"}}
[chunk 8] 2024-6-24 20:24:40.368

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"和北京的"}}
[chunk 9] 2024-6-24 20:24:40.480

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"天"}}
[chunk 10] 2024-6-24 20:24:40.487

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"气情况。"}}
[chunk 11] 2024-6-24 20:24:40.489

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"让"}}
[chunk 12] 2024-6-24 20:24:40.493

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"我为"}}
[chunk 13] 2024-6-24 20:24:40.606

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"您获"}}
[chunk 14] 2024-6-24 20:24:40.610

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"取这"}}
[chunk 15] 2024-6-24 20:24:40.620

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"两"}}
[chunk 16] 2024-6-24 20:24:40.621

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"个城市的"}}
[chunk 17] 2024-6-24 20:24:40.730

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"当前天气"}}
[chunk 18] 2024-6-24 20:24:40.733

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"信"}}
[chunk 19] 2024-6-24 20:24:40.981

{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"息。"}}
[chunk 20] 2024-6-24 20:24:40.983

{"type":"content_block_stop","index":0}
[chunk 21] 2024-6-24 20:24:40.983

{"type":"content_block_start","index":1,"content_block":{"type":"tool_use","id":"toolu_01CYUiZB5L2iLYfKkFL5TWtm","name":"realtime-weather____fetchCurrentWeather","input":{}}}
[chunk 22] 2024-6-24 20:24:41.266

{"type":"content_block_delta","index":1,"delta":{"type":"input_json_delta","partial_json":""}}
[chunk 23] 2024-6-24 20:24:41.267

{"type":"content_block_delta","index":1,"delta":{"type":"input_json_delta","partial_json":"{\"city\": "}}
[chunk 24] 2024-6-24 20:24:41.268

{"type":"content_block_delta","index":1,"delta":{"type":"input_json_delta","partial_json":"\"\\u67"}}
[chunk 25] 2024-6-24 20:24:41.268

{"type":"content_block_delta","index":1,"delta":{"type":"input_json_delta","partial_json":"6d\\"}}
[chunk 26] 2024-6-24 20:24:41.269

{"type":"content_block_delta","index":1,"delta":{"type":"input_json_delta","partial_json":"u5dde\"}"}}
[chunk 27] 2024-6-24 20:24:41.270

{"type":"content_block_stop","index":1}
[chunk 28] 2024-6-24 20:24:41.271

{"type":"content_block_start","index":2,"content_block":{"type":"tool_use","id":"toolu_019Q1i316spMrh2ATHsDLHB8","name":"realtime-weather____fetchCurrentWeather","input":{}}}
[chunk 29] 2024-6-24 20:24:41.626

{"type":"content_block_delta","index":2,"delta":{"type":"input_json_delta","partial_json":""}}
[chunk 30] 2024-6-24 20:24:41.626

{"type":"content_block_delta","index":2,"delta":{"type":"input_json_delta","partial_json":"{\"city"}}
[chunk 31] 2024-6-24 20:24:41.628

{"type":"content_block_delta","index":2,"delta":{"type":"input_json_delta","partial_json":"\": \"\\u531"}}
[chunk 32] 2024-6-24 20:24:41.631

{"type":"content_block_delta","index":2,"delta":{"type":"input_json_delta","partial_json":"7\\u4eac"}}
[chunk 33] 2024-6-24 20:24:41.634

{"type":"content_block_delta","index":2,"delta":{"type":"input_json_delta","partial_json":"\"}"}}
[chunk 34] 2024-6-24 20:24:41.641

{"type":"content_block_stop","index":2}
[chunk 35] 2024-6-24 20:24:41.644

{"type":"message_delta","delta":{"stop_reason":"tool_use","stop_sequence":null},"usage":{"output_tokens":146}}
[chunk 36] 2024-6-24 20:24:41.654
{"type":"message_stop"}

[stream finished] total chunks: 37
```

 
</details>

TODO

## Claude 3 Opus

TODO

## Claude 3 Sonnet

TODO

## Claude 3 Haiku

TODO
