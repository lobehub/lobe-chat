---
title: åœ¨ LobeChat ä¸­ä½¿ç”¨ ComfyUI ç”Ÿæˆå›¾åƒ
description: å­¦ä¹ å¦‚ä½•åœ¨ LobeChat ä¸­é…ç½®å’Œä½¿ç”¨ ComfyUI æœåŠ¡ï¼Œæ”¯æŒ FLUX ç³»åˆ—æ¨¡å‹çš„é«˜è´¨é‡å›¾åƒç”Ÿæˆå’Œç¼–è¾‘åŠŸèƒ½
tags:
  - ComfyUI
  - FLUX
  - æ–‡ç”Ÿå›¾
  - å›¾åƒç¼–è¾‘
  - AI å›¾åƒç”Ÿæˆ
---

# åœ¨ LobeChat ä¸­ä½¿ç”¨ ComfyUI

<Image alt={'åœ¨ LobeChat ä¸­ä½¿ç”¨ ComfyUI'} cover src={'https://github.com/lobehub/lobe-chat/assets/17870709/c9e5eafc-ca22-496b-a88d-cc0ae53bf720'} />

æœ¬æ–‡æ¡£å°†æŒ‡å¯¼ä½ å¦‚ä½•åœ¨ LobeChat ä¸­ä½¿ç”¨ [ComfyUI](https://github.com/comfyanonymous/ComfyUI) è¿›è¡Œé«˜è´¨é‡çš„ AI å›¾åƒç”Ÿæˆå’Œç¼–è¾‘ã€‚

## ComfyUI ç®€ä»‹

ComfyUI æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç¨³å®šæ‰©æ•£å’Œæµæ‰©æ•£ GUIï¼Œæä¾›åŸºäºèŠ‚ç‚¹çš„å·¥ä½œæµç•Œé¢ã€‚LobeChat é›†æˆäº† ComfyUIï¼Œæ”¯æŒå®Œæ•´çš„ FLUX ç³»åˆ—æ¨¡å‹ï¼ŒåŒ…æ‹¬æ–‡æœ¬ç”Ÿæˆå›¾åƒå’Œå›¾åƒç¼–è¾‘åŠŸèƒ½ã€‚

### ä¸»è¦ç‰¹æ€§

- **å¹¿æ³›æ¨¡å‹æ”¯æŒ**ï¼šæ”¯æŒ 223 ä¸ªæ¨¡å‹ï¼ŒåŒ…å« FLUX ç³»åˆ—ï¼ˆ130 ä¸ªï¼‰å’Œ SD ç³»åˆ—ï¼ˆ93 ä¸ªï¼‰
- **é…ç½®é©±åŠ¨æ¶æ„**ï¼šæ³¨å†Œè¡¨ç³»ç»Ÿæä¾›æ™ºèƒ½æ¨¡å‹é€‰æ‹©
- **å¤šæ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒ .safetensors å’Œ .gguf æ ¼å¼ï¼ŒåŒ…å«å¤šç§é‡åŒ–çº§åˆ«
- **åŠ¨æ€ç²¾åº¦é€‰æ‹©**ï¼šæ”¯æŒ defaultã€fp8\_e4m3fnã€fp8\_e5m2ã€fp8\_e4m3fn\_fast ç²¾åº¦
- **å¤šç§è®¤è¯æ–¹å¼**ï¼šæ”¯æŒæ— è®¤è¯ã€åŸºæœ¬è®¤è¯ã€Bearer Token å’Œè‡ªå®šä¹‰è®¤è¯
- **æ™ºèƒ½ç»„ä»¶é€‰æ‹©**ï¼šè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜çš„ T5ã€CLIPã€VAE ç¼–ç å™¨ç»„åˆ
- **ä¼ä¸šçº§ä¼˜åŒ–**ï¼šåŒ…å« NF4ã€SVDQuantã€TorchAOã€MFLUX ç­‰ä¼˜åŒ–å˜ä½“

## å¿«é€Ÿå¼€å§‹

### æ­¥éª¤ä¸€ï¼šåœ¨ LobeChat ä¸­é…ç½® ComfyUI

#### 1. æ‰“å¼€è®¾ç½®ç•Œé¢

- è®¿é—® LobeChat çš„ `è®¾ç½®` ç•Œé¢
- åœ¨ `AI æœåŠ¡å•†` ä¸‹æ‰¾åˆ° `ComfyUI` çš„è®¾ç½®é¡¹

<Image alt={'ComfyUI è®¾ç½®ç•Œé¢'} inStep src={'https://github.com/lobehub/lobe-chat/assets/17870709/3f31bc33-509f-4ad2-ba81-280c2a6ec5fa'} />

#### 2. é…ç½®è¿æ¥å‚æ•°

**åŸºæœ¬é…ç½®**ï¼š

- **æœåŠ¡å™¨åœ°å€**ï¼šè¾“å…¥ ComfyUI æœåŠ¡å™¨åœ°å€ï¼Œå¦‚ `http://localhost:8000`
- **è®¤è¯ç±»å‹**ï¼šé€‰æ‹©åˆé€‚çš„è®¤è¯æ–¹å¼ï¼ˆé»˜è®¤æ— è®¤è¯ï¼‰

### æ­¥éª¤äºŒï¼šé€‰æ‹©æ¨¡å‹å¹¶å¼€å§‹ç”Ÿæˆå›¾åƒ

#### 1. é€‰æ‹© FLUX æ¨¡å‹

åœ¨å¯¹è¯ç•Œé¢ä¸­ï¼š

- ç‚¹å‡»æ¨¡å‹é€‰æ‹©æŒ‰é’®
- ä» ComfyUI åˆ†ç±»ä¸­é€‰æ‹©æ‰€éœ€çš„ FLUX æ¨¡å‹

<Image alt={'é€‰æ‹© FLUX æ¨¡å‹'} inStep src={'https://github.com/lobehub/lobe-chat/assets/17870709/ff7ebacf-27f0-42d7-810b-00314499a084'} />

#### 2. æ–‡æœ¬ç”Ÿæˆå›¾åƒ

**ä½¿ç”¨ FLUX Schnellï¼ˆå¿«é€Ÿç”Ÿæˆï¼‰**ï¼š

```plaintext
Generate an image: A cute orange cat sitting on a sunny windowsill, warm lighting, detailed fur texture
```

**ä½¿ç”¨ FLUX Devï¼ˆé«˜è´¨é‡ç”Ÿæˆï¼‰**ï¼š

```plaintext
Generate high quality image: City skyline at sunset, cyberpunk style, neon lights, 4K high resolution, detailed architecture
```

#### 3. å›¾åƒç¼–è¾‘

**ä½¿ç”¨ FLUX Kontext-dev ç¼–è¾‘å›¾åƒ**ï¼š

```plaintext
Edit this image: Change the background to a starry night sky, keep the main subject, cosmic atmosphere
```

ç„¶åä¸Šä¼ éœ€è¦ç¼–è¾‘çš„åŸå§‹å›¾åƒã€‚

<Callout type={'info'}>
  å›¾åƒç¼–è¾‘åŠŸèƒ½éœ€è¦å…ˆä¸Šä¼ åŸå§‹å›¾åƒï¼Œç„¶åæè¿°ä½ å¸Œæœ›è¿›è¡Œçš„ä¿®æ”¹ã€‚
</Callout>

## è®¤è¯é…ç½®æŒ‡å—

ComfyUI æ”¯æŒå››ç§è®¤è¯æ–¹å¼ï¼Œè¯·æ ¹æ®ä½ çš„æœåŠ¡å™¨é…ç½®å’Œå®‰å…¨éœ€æ±‚é€‰æ‹©åˆé€‚çš„è®¤è¯æ–¹å¼ï¼š

### æ— è®¤è¯ (none)

**é€‚ç”¨åœºæ™¯**ï¼š

- æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ˆlocalhostï¼‰
- å†…ç½‘ç¯å¢ƒä¸”ä¿¡ä»»æ‰€æœ‰ç”¨æˆ·
- ä¸ªäººä½¿ç”¨çš„å•æœºéƒ¨ç½²

**é…ç½®æ–¹æ³•**ï¼š

```yaml
è®¤è¯ç±»å‹ï¼šæ— è®¤è¯
æœåŠ¡å™¨åœ°å€ï¼šhttp://localhost:8000
```

### åŸºæœ¬è®¤è¯ (basic)

**é€‚ç”¨åœºæ™¯**ï¼š

- ä½¿ç”¨ Nginx åå‘ä»£ç†çš„éƒ¨ç½²
- å›¢é˜Ÿå†…éƒ¨ä½¿ç”¨ä¸”éœ€è¦åŸºç¡€è®¿é—®æ§åˆ¶

**é…ç½®æ–¹æ³•**ï¼š

1. **åˆ›å»ºç”¨æˆ·å¯†ç **ï¼š

```bash
# å®‰è£… apache2-utils
sudo apt-get install apache2-utils

# åˆ›å»ºç”¨æˆ· 'admin'
sudo htpasswd -c /etc/nginx/.htpasswd admin
```

2. **LobeChat é…ç½®**ï¼š

```yaml
è®¤è¯ç±»å‹ï¼šåŸºæœ¬è®¤è¯
æœåŠ¡å™¨åœ°å€ï¼šhttps://your-domain.com
ç”¨æˆ·åï¼šadmin
å¯†ç ï¼šyour_secure_password
```

### Bearer Token (bearer)

**é€‚ç”¨åœºæ™¯**ï¼š

- API é©±åŠ¨çš„åº”ç”¨é›†æˆ
- éœ€è¦ Token è®¤è¯çš„ä¼ä¸šç¯å¢ƒ

**ç”Ÿæˆ Token**ï¼š

```python
import jwt
import datetime

payload = {
    'user': 'admin',
    'exp': datetime.datetime.utcnow() + datetime.timedelta(days=30)
}

secret_key = "your-secret-key"
token = jwt.encode(payload, secret_key, algorithm='HS256')
print(f"Bearer Token: {token}")
```

**LobeChat é…ç½®**ï¼š

```yaml
è®¤è¯ç±»å‹ï¼šBearer Token
æœåŠ¡å™¨åœ°å€ï¼šhttps://your-domain.com
API å¯†é’¥ï¼šexample-eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### è‡ªå®šä¹‰è®¤è¯ (custom)

**é€‚ç”¨åœºæ™¯**ï¼š

- é›†æˆç°æœ‰ä¼ä¸šè®¤è¯ç³»ç»Ÿ
- éœ€è¦å¤šé‡è®¤è¯å¤´çš„ç³»ç»Ÿ

**LobeChat é…ç½®**ï¼š

```yaml
è®¤è¯ç±»å‹ï¼šè‡ªå®šä¹‰
æœåŠ¡å™¨åœ°å€ï¼šhttps://your-domain.com
è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼š
{
  "X-API-Key": "your_api_key",
  "X-Client-ID": "lobechat"
}
```

## å¸¸è§é—®é¢˜å¤„ç†

### 1. å¦‚ä½•å®‰è£… Comfy-Manager

Comfy-Manager æ˜¯ ComfyUI çš„æ‰©å±•ç®¡ç†å™¨ï¼Œè®©ä½ èƒ½å¤Ÿè½»æ¾å®‰è£…å’Œç®¡ç†å„ç§èŠ‚ç‚¹ã€æ¨¡å‹å’Œæ‰©å±•ã€‚

<details>
  <summary><b>ğŸ“¦ å®‰è£… Comfy-Manager æ­¥éª¤</b></summary>

  #### æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨å®‰è£…ï¼ˆæ¨èï¼‰

  ```bash
  # è¿›å…¥ ComfyUI çš„ custom_nodes ç›®å½•
  cd ComfyUI/custom_nodes

  # å…‹éš† Comfy-Manager ä»“åº“
  git clone https://github.com/ltdrdata/ComfyUI-Manager.git

  # é‡å¯ ComfyUI æœåŠ¡å™¨
  # é‡æ–°å¯åŠ¨åï¼Œä½ ä¼šåœ¨ UI ä¸­çœ‹åˆ° Manager æŒ‰é’®
  ```

  #### æ–¹æ³•äºŒï¼šä½¿ç”¨ä¸€é”®å®‰è£…è„šæœ¬

  ```bash
  # åœ¨ ComfyUI æ ¹ç›®å½•ä¸‹æ‰§è¡Œ
  curl -fsSL https://raw.githubusercontent.com/ltdrdata/ComfyUI-Manager/main/install.sh | bash
  ```

  #### éªŒè¯å®‰è£…

  1. é‡å¯ ComfyUI æœåŠ¡å™¨
  2. è®¿é—® `http://localhost:8000`
  3. ä½ åº”è¯¥èƒ½åœ¨ç•Œé¢å³ä¸‹è§’çœ‹åˆ° "Manager" æŒ‰é’®

  #### ä½¿ç”¨ Comfy-Manager

  **å®‰è£…æ¨¡å‹**ï¼š

  1. ç‚¹å‡» "Manager" æŒ‰é’®
  2. é€‰æ‹© "Install Models"
  3. æœç´¢éœ€è¦çš„æ¨¡å‹ï¼ˆå¦‚ FLUXã€SD3.5ï¼‰
  4. ç‚¹å‡» "Install" è‡ªåŠ¨ä¸‹è½½åˆ°æ­£ç¡®ç›®å½•

  **å®‰è£…èŠ‚ç‚¹æ‰©å±•**ï¼š

  1. ç‚¹å‡» "Manager" æŒ‰é’®
  2. é€‰æ‹© "Install Custom Nodes"
  3. æœç´¢éœ€è¦çš„èŠ‚ç‚¹ï¼ˆå¦‚ ControlNetã€AnimateDiffï¼‰
  4. ç‚¹å‡» "Install" å¹¶é‡å¯æœåŠ¡å™¨

  **ç®¡ç†å·²å®‰è£…å†…å®¹**ï¼š

  1. ç‚¹å‡» "Manager" æŒ‰é’®
  2. é€‰æ‹© "Installed" æŸ¥çœ‹å·²å®‰è£…çš„æ‰©å±•
  3. å¯ä»¥æ›´æ–°ã€ç¦ç”¨æˆ–å¸è½½æ‰©å±•
</details>

### 2. å¦‚ä½•å¤„ç† "Model not found" é”™è¯¯

å½“ä½ çœ‹åˆ°ç±»ä¼¼ `Model not found: flux1-dev.safetensors, please install one first.` çš„é”™è¯¯æ—¶ï¼Œè¯´æ˜æœåŠ¡å™¨ä¸Šç¼ºå°‘æ‰€éœ€çš„æ¨¡å‹æ–‡ä»¶ã€‚

<details>
  <summary><b>ğŸ”§ è§£å†³ Model not found é”™è¯¯</b></summary>

  #### é”™è¯¯ç¤ºä¾‹

  ```plaintext
  Model not found: flux1-dev.safetensors, please install one first.
  ```

  è¿™ä¸ªé”™è¯¯è¡¨ç¤ºç³»ç»ŸæœŸæœ›æ‰¾åˆ° `flux1-dev.safetensors` æ¨¡å‹æ–‡ä»¶ï¼Œä½†åœ¨æœåŠ¡å™¨ä¸Šæ²¡æœ‰æ‰¾åˆ°ã€‚

  #### è§£å†³æ–¹æ³•

  **æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Comfy-Manager ä¸‹è½½ï¼ˆæ¨èï¼‰**

  1. æ‰“å¼€ ComfyUI ç•Œé¢
  2. ç‚¹å‡» "Manager" â†’ "Install Models"
  3. æœç´¢é”™è¯¯æç¤ºä¸­çš„æ¨¡å‹åï¼ˆå¦‚ "flux1-dev"ï¼‰
  4. ç‚¹å‡» "Install" è‡ªåŠ¨ä¸‹è½½

  **æ–¹æ³•äºŒï¼šæ‰‹åŠ¨ä¸‹è½½æ¨¡å‹**

  1. **ä¸‹è½½æ¨¡å‹æ–‡ä»¶**ï¼š
     - è®¿é—® [Hugging Face](https://huggingface.co/black-forest-labs/FLUX.1-dev) æˆ–å…¶ä»–æ¨¡å‹æº
     - ä¸‹è½½é”™è¯¯æç¤ºä¸­çš„æ–‡ä»¶ï¼ˆå¦‚ `flux1-dev.safetensors`ï¼‰

  2. **æ”¾ç½®åˆ°æ­£ç¡®ç›®å½•**ï¼š
     ```bash
     # FLUX å’Œ SD3.5 ä¸»æ¨¡å‹æ”¾å…¥
     ComfyUI/models/diffusion_models/flux1-dev.safetensors

     # SD1.5 å’Œ SDXL æ¨¡å‹æ”¾å…¥
     ComfyUI/models/checkpoints/
     ```

  3. **éªŒè¯æ–‡ä»¶**ï¼š
     ```bash
     # æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
     ls -la ComfyUI/models/diffusion_models/flux1-dev.safetensors

     # æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§ï¼ˆå¯é€‰ï¼‰
     sha256sum flux1-dev.safetensors
     ```

  4. **é‡å¯ ComfyUI æœåŠ¡å™¨**

  **æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ wget/curl ç›´æ¥ä¸‹è½½**

  ```bash
  # è¿›å…¥æ¨¡å‹ç›®å½•
  cd ComfyUI/models/diffusion_models/

  # ä½¿ç”¨ wget ä¸‹è½½ï¼ˆæ›¿æ¢ä¸ºå®é™…ä¸‹è½½é“¾æ¥ï¼‰
  wget https://huggingface.co/black-forest-labs/FLUX.1-dev/resolve/main/flux1-dev.safetensors

  # æˆ–ä½¿ç”¨ curl
  curl -L -o flux1-dev.safetensors https://huggingface.co/black-forest-labs/FLUX.1-dev/resolve/main/flux1-dev.safetensors
  ```

  #### å¸¸è§æ¨¡å‹ä¸‹è½½æº

  - **Hugging Face**ï¼š[https://huggingface.co/models](https://huggingface.co/models)
  - **Civitai**ï¼š[https://civitai.com/models](https://civitai.com/models)
  - **å®˜æ–¹æº**ï¼š
    - FLUX: [https://huggingface.co/black-forest-labs](https://huggingface.co/black-forest-labs)
    - SD3.5: [https://huggingface.co/stabilityai](https://huggingface.co/stabilityai)

  #### é¢„é˜²æªæ–½

  1. **åŸºç¡€æ¨¡å‹åŒ…**ï¼šè‡³å°‘ä¸‹è½½ä¸€ä¸ªåŸºç¡€æ¨¡å‹
     - FLUX: `flux1-schnell.safetensors`ï¼ˆå¿«é€Ÿï¼‰æˆ– `flux1-dev.safetensors`ï¼ˆé«˜è´¨é‡ï¼‰
     - SD3.5: `sd3.5_large.safetensors`

  2. **æ£€æŸ¥ç£ç›˜ç©ºé—´**ï¼š
     ```bash
     # æ£€æŸ¥å¯ç”¨ç©ºé—´
     df -h ComfyUI/models/
     ```

  3. **è®¾ç½®æ¨¡å‹è·¯å¾„**ï¼ˆå¯é€‰ï¼‰ï¼š
     å¦‚æœä½ çš„æ¨¡å‹å­˜å‚¨åœ¨å…¶ä»–ä½ç½®ï¼Œå¯ä»¥åˆ›å»ºç¬¦å·é“¾æ¥ï¼š
     ```bash
     ln -s /path/to/your/models ComfyUI/models/diffusion_models/
     ```
</details>

### 3. å¦‚ä½•å¤„ç†ç¼ºå°‘ System Component é”™è¯¯

å½“ä½ çœ‹åˆ°ç±»ä¼¼ `Missing VAE encoder: ae.safetensors` æˆ–å…¶ä»–ç»„ä»¶æ–‡ä»¶ç¼ºå¤±çš„é”™è¯¯æ—¶ï¼Œéœ€è¦ä¸‹è½½ç›¸åº”çš„ç³»ç»Ÿç»„ä»¶ã€‚

<details>
  <summary><b>ğŸ› ï¸ è§£å†³ç¼ºå°‘ System Component é”™è¯¯</b></summary>

  #### å¸¸è§ç»„ä»¶é”™è¯¯

  ```plaintext
  Missing VAE encoder: ae.safetensors. Please download and place it in the models/vae folder.
  Missing CLIP encoder: clip_l.safetensors. Please download and place it in the models/clip folder.
  Missing T5 encoder: t5xxl_fp16.safetensors. Please download and place it in the models/clip folder.
  ```

  #### ç»„ä»¶ç±»å‹è¯´æ˜

  | ç»„ä»¶ç±»å‹           | æ–‡ä»¶åç¤ºä¾‹                          | ç”¨é€”         | å­˜æ”¾ç›®å½•               |
  | -------------- | ------------------------------ | ---------- | ------------------ |
  | **VAE**        | ae.safetensors                 | å›¾åƒç¼–ç  / è§£ç   | models/vae/        |
  | **CLIP**       | clip\_l.safetensors            | æ–‡æœ¬ç¼–ç ï¼ˆCLIPï¼‰ | models/clip/       |
  | **T5**         | t5xxl\_fp16.safetensors        | æ–‡æœ¬ç¼–ç ï¼ˆT5ï¼‰   | models/clip/       |
  | **ControlNet** | flux-controlnet-\*.safetensors | æ§åˆ¶ç½‘ç»œ       | models/controlnet/ |

  #### è§£å†³æ–¹æ³•

  **æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Comfy-Managerï¼ˆæ¨èï¼‰**

  1. ç‚¹å‡» "Manager" â†’ "Install Models"
  2. åœ¨ "Filter" ä¸­é€‰æ‹©ç»„ä»¶ç±»å‹ï¼ˆVAE/CLIP/T5ï¼‰
  3. ä¸‹è½½å¯¹åº”çš„ç»„ä»¶æ–‡ä»¶

  **æ–¹æ³•äºŒï¼šæ‰‹åŠ¨ä¸‹è½½å¿…éœ€ç»„ä»¶**

  ##### FLUX å¿…éœ€ç»„ä»¶

  ```bash
  # 1. VAE ç¼–ç å™¨
  cd ComfyUI/models/vae/
  wget https://huggingface.co/black-forest-labs/FLUX.1-dev/resolve/main/ae.safetensors

  # 2. CLIP-L ç¼–ç å™¨
  cd ComfyUI/models/clip/
  wget https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors

  # 3. T5-XXL ç¼–ç å™¨ï¼ˆå¯é€‰æ‹©ä¸åŒç²¾åº¦ï¼‰
  # FP16 ç‰ˆæœ¬ï¼ˆæ¨èï¼Œå¹³è¡¡æ€§èƒ½ï¼‰
  wget https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors

  # æˆ– FP8 ç‰ˆæœ¬ï¼ˆèŠ‚çœæ˜¾å­˜ï¼‰
  wget https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn.safetensors
  ```

  ##### SD3.5 å¿…éœ€ç»„ä»¶

  ```bash
  # SD3.5 ä½¿ç”¨ä¸åŒçš„ç¼–ç å™¨
  cd ComfyUI/models/clip/

  # CLIP-G ç¼–ç å™¨
  wget https://huggingface.co/stabilityai/stable-diffusion-3.5-large/resolve/main/text_encoders/clip_g.safetensors

  # CLIP-L ç¼–ç å™¨
  wget https://huggingface.co/stabilityai/stable-diffusion-3.5-large/resolve/main/text_encoders/clip_l.safetensors

  # T5-XXL ç¼–ç å™¨
  wget https://huggingface.co/stabilityai/stable-diffusion-3.5-large/resolve/main/text_encoders/t5xxl_fp16.safetensors
  ```

  ##### SDXL å¿…éœ€ç»„ä»¶

  ```bash
  # SDXL VAE
  cd ComfyUI/models/vae/
  wget https://huggingface.co/stabilityai/sdxl-vae/resolve/main/sdxl_vae.safetensors

  # SDXL ä½¿ç”¨å†…ç½®çš„ CLIP ç¼–ç å™¨ï¼Œé€šå¸¸ä¸éœ€è¦å•ç‹¬ä¸‹è½½
  ```

  #### ç»„ä»¶å…¼å®¹æ€§çŸ©é˜µ

  | æ¨¡å‹ç³»åˆ—      | å¿…éœ€ VAE         | å¿…éœ€ CLIP             | å¿…éœ€ T5                   | å¯é€‰ç»„ä»¶       |
  | --------- | -------------- | ------------------- | ----------------------- | ---------- |
  | **FLUX**  | ae.safetensors | clip\_l.safetensors | t5xxl\_fp16.safetensors | ControlNet |
  | **SD3.5** | å†…ç½®             | clip\_g + clip\_l   | t5xxl\_fp16             | -          |
  | **SDXL**  | sdxl\_vae      | å†…ç½®                  | -                       | Refiner    |
  | **SD1.5** | vae-ft-mse     | å†…ç½®                  | -                       | ControlNet |

  #### ç²¾åº¦é€‰æ‹©å»ºè®®

  **T5 ç¼–ç å™¨ç²¾åº¦é€‰æ‹©**ï¼š

  | æ˜¾å­˜å®¹é‡    | æ¨èç‰ˆæœ¬   | æ–‡ä»¶å                            |
  | ------- | ------ | ------------------------------ |
  | \< 12GB | FP8 é‡åŒ– | t5xxl\_fp8\_e4m3fn.safetensors |
  | 12-16GB | FP16   | t5xxl\_fp16.safetensors        |
  | > 16GB  | FP32   | t5xxl.safetensors              |

  #### éªŒè¯ç»„ä»¶å®‰è£…

  ```bash
  # æ£€æŸ¥æ‰€æœ‰å¿…éœ€ç»„ä»¶
  echo "=== VAE Components ==="
  ls -la ComfyUI/models/vae/

  echo "=== CLIP/T5 Components ==="
  ls -la ComfyUI/models/clip/

  echo "=== ControlNet Components ==="
  ls -la ComfyUI/models/controlnet/
  ```

  #### æ•…éšœæ’é™¤

  **é—®é¢˜ï¼šä¸‹è½½åä»ç„¶æŠ¥é”™**

  1. **æ£€æŸ¥æ–‡ä»¶æƒé™**ï¼š
     ```bash
     chmod 644 ComfyUI/models/vae/*.safetensors
     chmod 644 ComfyUI/models/clip/*.safetensors
     ```

  2. **æ¸…é™¤ç¼“å­˜**ï¼š
     ```bash
     # æ¸…é™¤ ComfyUI ç¼“å­˜
     rm -rf ComfyUI/temp/*
     rm -rf ComfyUI/__pycache__/*
     ```

  3. **é‡å¯æœåŠ¡å™¨**ï¼š
     ```bash
     # å®Œå…¨é‡å¯ ComfyUI
     pkill -f "python main.py"
     python main.py --listen 0.0.0.0 --port 8000
     ```

  **é—®é¢˜ï¼šæ˜¾å­˜ä¸è¶³**

  ä½¿ç”¨é‡åŒ–ç‰ˆæœ¬çš„ç»„ä»¶ï¼š

  - T5: ä½¿ç”¨ `t5xxl_fp8_e4m3fn.safetensors` è€Œä¸æ˜¯ FP16/FP32
  - VAE: æŸäº›æ¨¡å‹æ”¯æŒ FP16 VAE ç‰ˆæœ¬

  **é—®é¢˜ï¼šä¸‹è½½é€Ÿåº¦æ…¢**

  1. ä½¿ç”¨é•œåƒæºï¼ˆå¦‚é€‚ç”¨ï¼‰
  2. ä½¿ç”¨ä¸‹è½½å·¥å…·ï¼ˆå¦‚ aria2cï¼‰æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼š
     ```bash
     aria2c -x 16 -s 16 -k 1M [ä¸‹è½½é“¾æ¥]
     ```
</details>

## ComfyUI æœåŠ¡å™¨å®‰è£…

<details>
  <summary><b>ğŸš€ å®‰è£…å’Œé…ç½® ComfyUI æœåŠ¡å™¨</b></summary>

  ### 1. å®‰è£… ComfyUI

  ```bash
  # å…‹éš† ComfyUI ä»“åº“
  git clone https://github.com/comfyanonymous/ComfyUI.git
  cd ComfyUI

  # å®‰è£…ä¾èµ–
  pip install -r requirements.txt

  # å¯é€‰ï¼šå®‰è£…JWTæ”¯æŒï¼ˆç”¨äºTokenè®¤è¯ï¼‰
  pip install PyJWT

  # å¯åŠ¨ ComfyUI æœåŠ¡å™¨
  python main.py --listen 0.0.0.0 --port 8000
  ```

  ### 2. ä¸‹è½½æ¨¡å‹æ–‡ä»¶

  **æ¨èåŸºç¡€é…ç½®** (æœ€å°åŒ–å®‰è£…)ï¼š

  **ä¸»æ¨¡å‹** (æ”¾å…¥ `models/diffusion_models/` ç›®å½•)ï¼š

  - `flux1-schnell.safetensors` - å¿«é€Ÿç”Ÿæˆï¼ˆ4 æ­¥ï¼‰
  - `flux1-dev.safetensors` - é«˜è´¨é‡åˆ›ä½œï¼ˆ20 æ­¥ï¼‰

  **å¿…éœ€ç»„ä»¶** (æ”¾å…¥ç›¸åº”ç›®å½•)ï¼š

  - `models/vae/ae.safetensors` - VAE ç¼–ç å™¨
  - `models/clip/clip_l.safetensors` - CLIP æ–‡æœ¬ç¼–ç å™¨
  - `models/clip/t5xxl_fp16.safetensors` - T5 æ–‡æœ¬ç¼–ç å™¨

  ### 3. éªŒè¯æœåŠ¡å™¨è¿è¡Œ

  è®¿é—® `http://localhost:8000` ç¡®è®¤ ComfyUI ç•Œé¢æ­£å¸¸åŠ è½½ã€‚

  <Callout type={'info'}>
    **æ™ºèƒ½æ¨¡å‹é€‰æ‹©**ï¼šLobeChat ä¼šæ ¹æ®æœåŠ¡å™¨ä¸Šå¯ç”¨çš„æ¨¡å‹æ–‡ä»¶è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ¨¡å‹ã€‚æ‚¨æ— éœ€ä¸‹è½½æ‰€æœ‰æ¨¡å‹ï¼Œç³»ç»Ÿä¼šåœ¨å¯ç”¨æ¨¡å‹ä¸­æŒ‰ä¼˜å…ˆçº§ï¼ˆå®˜æ–¹ > ä¼ä¸š > ç¤¾åŒºï¼‰è‡ªåŠ¨é€‰æ‹©ã€‚
  </Callout>
</details>

## æ”¯æŒçš„æ¨¡å‹

LobeChat ComfyUI é›†æˆé‡‡ç”¨é…ç½®é©±åŠ¨çš„æ¶æ„ï¼Œæ”¯æŒ **223 ä¸ªæ¨¡å‹**ï¼Œæä¾›ä»å®˜æ–¹æ¨¡å‹åˆ°ç¤¾åŒºä¼˜åŒ–ç‰ˆæœ¬çš„å…¨è¦†ç›–ã€‚

### FLUX ç³»åˆ—æ¨èå‚æ•°

| æ¨¡å‹ç±»å‹        | æ¨èæ­¥æ•° | CFG Scale | åˆ†è¾¨ç‡èŒƒå›´               |
| ----------- | ---- | --------- | ------------------- |
| **Schnell** | 4 æ­¥  | -         | 512Ã—512 è‡³ 1536Ã—1536 |
| **Dev**     | 20 æ­¥ | 3.5       | 512Ã—512 è‡³ 2048Ã—2048 |
| **Kontext** | 20 æ­¥ | 3.5       | 512Ã—512 è‡³ 2048Ã—2048 |
| **Krea**    | 20 æ­¥ | 4.5       | 512Ã—512 è‡³ 2048Ã—2048 |

### SD3.5 ç³»åˆ—å‚æ•°

| æ¨¡å‹ç±»å‹            | æ¨èæ­¥æ•° | CFG Scale | åˆ†è¾¨ç‡èŒƒå›´               |
| --------------- | ---- | --------- | ------------------- |
| **Large**       | 25 æ­¥ | 7.0       | 512Ã—512 è‡³ 2048Ã—2048 |
| **Large Turbo** | 8 æ­¥  | 3.5       | 512Ã—512 è‡³ 1536Ã—1536 |
| **Medium**      | 20 æ­¥ | 6.0       | 512Ã—512 è‡³ 1536Ã—1536 |

<details>
  <summary><b>ğŸ“‹ å½“å‰å®Œæ•´æ”¯æŒçš„æ¨¡å‹åˆ—è¡¨</b></summary>

  ### æ¨¡å‹åˆ†ç±»ä½“ç³»

  #### ä¼˜å…ˆçº§ 1ï¼šå®˜æ–¹æ ¸å¿ƒæ¨¡å‹

  **FLUX.1 Official ç³»åˆ—**ï¼š

  - `flux1-dev.safetensors` - é«˜è´¨é‡åˆ›ä½œæ¨¡å‹
  - `flux1-schnell.safetensors` - å¿«é€Ÿç”Ÿæˆæ¨¡å‹
  - `flux1-kontext-dev.safetensors` - å›¾åƒç¼–è¾‘æ¨¡å‹
  - `flux1-krea-dev.safetensors` - å®‰å…¨å¢å¼ºæ¨¡å‹

  **SD3.5 Official ç³»åˆ—**ï¼š

  - `sd3.5_large.safetensors` - SD3.5 å¤§å‹åŸºç¡€æ¨¡å‹
  - `sd3.5_large_turbo.safetensors` - å¿«é€Ÿç”Ÿæˆç‰ˆæœ¬
  - `sd3.5_medium.safetensors` - ä¸­ç­‰è§„æ¨¡æ¨¡å‹

  #### ä¼˜å…ˆçº§ 2ï¼šä¼ä¸šä¼˜åŒ–æ¨¡å‹ï¼ˆ106 ä¸ª FLUXï¼‰

  **é‡åŒ–ä¼˜åŒ–ç³»åˆ—**ï¼š

  - **GGUF é‡åŒ–**ï¼šæ¯ä¸ªå˜ä½“æ”¯æŒ 11 ç§é‡åŒ–çº§åˆ«ï¼ˆF16, Q8\_0, Q6\_K, Q5\_K\_M, Q5\_K\_S, Q4\_K\_M, Q4\_K\_S, Q4\_0, Q3\_K\_M, Q3\_K\_S, Q2\_Kï¼‰
  - **FP8 ç²¾åº¦**ï¼šfp8\_e4m3fnã€fp8\_e5m2 ä¼˜åŒ–ç‰ˆæœ¬
  - **ä¼ä¸šè½»é‡çº§**ï¼šFLUX.1-lite-8B ç³»åˆ—
  - **æŠ€æœ¯å®éªŒ**ï¼šNF4ã€SVDQuantã€TorchAOã€optimum-quantoã€MFLUX ä¼˜åŒ–ç‰ˆæœ¬

  #### ä¼˜å…ˆçº§ 3ï¼šç¤¾åŒºç²¾è°ƒæ¨¡å‹ï¼ˆ48 ä¸ª FLUXï¼‰

  **ç¤¾åŒºä¼˜åŒ–ç³»åˆ—**ï¼š

  - **Jib Mix Flux** ç³»åˆ—ï¼šé«˜è´¨é‡æ··åˆæ¨¡å‹
  - **Real Dream FLUX** ç³»åˆ—ï¼šç°å®ä¸»ä¹‰é£æ ¼
  - **Vision Realistic** ç³»åˆ—ï¼šè§†è§‰ç°å®åŒ–
  - **PixelWave FLUX** ç³»åˆ—ï¼šåƒç´ è‰ºæœ¯ä¼˜åŒ–
  - **Fluxmania** ç³»åˆ—ï¼šå¤šæ ·åŒ–é£æ ¼æ”¯æŒ

  ### SD ç³»åˆ—æ¨¡å‹æ”¯æŒï¼ˆ93 ä¸ªï¼‰

  **SD3.5 ç³»åˆ—**ï¼š5 ä¸ªæ¨¡å‹
  **SD1.5 ç³»åˆ—**ï¼š37 ä¸ªæ¨¡å‹ï¼ˆåŒ…æ‹¬å®˜æ–¹ã€é‡åŒ–å’Œç¤¾åŒºç‰ˆæœ¬ï¼‰
  **SDXL ç³»åˆ—**ï¼š50 ä¸ªæ¨¡å‹ï¼ˆåŒ…æ‹¬åŸºç¡€ã€Refiner å’Œ Playground æ¨¡å‹ï¼‰

  ### å·¥ä½œæµæ”¯æŒ

  ç³»ç»Ÿæ”¯æŒ **6 ç§å·¥ä½œæµ**ï¼š

  - **flux-dev**ï¼šé«˜è´¨é‡åˆ›ä½œå·¥ä½œæµ
  - **flux-schnell**ï¼šå¿«é€Ÿç”Ÿæˆå·¥ä½œæµ
  - **flux-kontext**ï¼šå›¾åƒç¼–è¾‘å·¥ä½œæµ
  - **sd35**ï¼šSD3.5 ä¸“ç”¨å·¥ä½œæµ
  - **simple-sd**ï¼šç®€å• SD å·¥ä½œæµ
  - **index**ï¼šå·¥ä½œæµå…¥å£
</details>

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### ç¡¬ä»¶è¦æ±‚

**æœ€ä½é…ç½®** (GGUF é‡åŒ–æ¨¡å‹)ï¼š

- GPUï¼š6GB VRAM (ä½¿ç”¨ Q4 é‡åŒ–)
- RAMï¼š12GB
- å­˜å‚¨ï¼š30GB å¯ç”¨ç©ºé—´

**æ¨èé…ç½®** (æ ‡å‡†æ¨¡å‹)ï¼š

- GPUï¼š12GB+ VRAM (RTX 4070 Ti æˆ–æ›´é«˜)
- RAMï¼š24GB+
- å­˜å‚¨ï¼šSSD 100GB+ å¯ç”¨ç©ºé—´

### æ˜¾å­˜ä¼˜åŒ–ç­–ç•¥

| æ˜¾å­˜å®¹é‡        | æ¨èé‡åŒ–            | æ¨¡å‹ç¤ºä¾‹                               | æ€§èƒ½ç‰¹ç‚¹    |
| ----------- | --------------- | ---------------------------------- | ------- |
| **6-8GB**   | Q4\_0, Q4\_K\_S | `flux1-dev-Q4_0.gguf`              | æœ€å°æ˜¾å­˜å ç”¨  |
| **10-12GB** | Q6\_K, Q8\_0    | `flux1-dev-Q6_K.gguf`              | å¹³è¡¡æ€§èƒ½ä¸è´¨é‡ |
| **16GB+**   | FP8, FP16       | `flux1-dev-fp8-e4m3fn.safetensors` | æ¥è¿‘åŸå§‹è´¨é‡  |
| **24GB+**   | å®Œæ•´æ¨¡å‹            | `flux1-dev.safetensors`            | æœ€ä½³è´¨é‡    |

## è‡ªå®šä¹‰æ¨¡å‹ä½¿ç”¨

<details>
  <summary><b>ğŸ¨ é…ç½®è‡ªå®šä¹‰ SD æ¨¡å‹</b></summary>

  LobeChat æ”¯æŒä½¿ç”¨è‡ªå®šä¹‰çš„ Stable Diffusion æ¨¡å‹ã€‚ç³»ç»Ÿä½¿ç”¨å›ºå®šçš„æ–‡ä»¶åæ¥è¯†åˆ«è‡ªå®šä¹‰æ¨¡å‹ã€‚

  ### 1. æ¨¡å‹æ–‡ä»¶å‡†å¤‡

  **å¿…éœ€æ–‡ä»¶**ï¼š

  - **ä¸»æ¨¡å‹æ–‡ä»¶**ï¼š`custom_sd_lobe.safetensors`
  - **VAE æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰**ï¼š`custom_sd_vae_lobe.safetensors`

  ### 2. æ·»åŠ è‡ªå®šä¹‰æ¨¡å‹

  **æ–¹æ³•ä¸€ï¼šé‡å‘½åç°æœ‰æ¨¡å‹**

  ```bash
  # å°†æ‚¨çš„æ¨¡å‹é‡å‘½åä¸ºå›ºå®šæ–‡ä»¶å
  mv your_custom_model.safetensors custom_sd_lobe.safetensors

  # ç§»åŠ¨åˆ°æ­£ç¡®ç›®å½•
  mv custom_sd_lobe.safetensors ComfyUI/models/diffusion_models/
  ```

  **æ–¹æ³•äºŒï¼šåˆ›å»ºç¬¦å·é“¾æ¥ï¼ˆæ¨èï¼‰**

  ```bash
  # åˆ›å»ºè½¯é“¾æ¥ï¼Œæ–¹ä¾¿åˆ‡æ¢ä¸åŒæ¨¡å‹
  ln -s /path/to/your_model.safetensors ComfyUI/models/diffusion_models/custom_sd_lobe.safetensors
  ```

  ### 3. ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å‹

  åœ¨ LobeChat ä¸­ï¼Œè‡ªå®šä¹‰æ¨¡å‹ä¼šæ˜¾ç¤ºä¸ºï¼š

  - **stable-diffusion-custom**ï¼šæ ‡å‡†è‡ªå®šä¹‰æ¨¡å‹
  - **stable-diffusion-custom-refiner**ï¼šRefiner è‡ªå®šä¹‰æ¨¡å‹

  ### è‡ªå®šä¹‰æ¨¡å‹å‚æ•°å»ºè®®

  | å‚æ•°         | SD 1.5 æ¨¡å‹ | SDXL æ¨¡å‹ |
  | ---------- | --------- | ------- |
  | **steps**  | 20-30     | 25-40   |
  | **cfg**    | 7.0       | 6.0-8.0 |
  | **width**  | 512       | 1024    |
  | **height** | 512       | 1024    |
</details>

## æ•…éšœæ’é™¤

### æ™ºèƒ½é”™è¯¯è¯Šæ–­ç³»ç»Ÿ

LobeChat é›†æˆäº†æ™ºèƒ½é”™è¯¯å¤„ç†ç³»ç»Ÿï¼Œèƒ½å¤Ÿè‡ªåŠ¨è¯Šæ–­å¹¶æä¾›é’ˆå¯¹æ€§çš„è§£å†³æ–¹æ¡ˆã€‚

#### é”™è¯¯ç±»å‹ä¸è§£å†³æ–¹æ¡ˆ

| é”™è¯¯ç±»å‹     | ç”¨æˆ·æç¤º                | è‡ªåŠ¨è¯Šæ–­            |
| -------- | ------------------- | --------------- |
| **è¿æ¥é—®é¢˜** | "æ— æ³•è¿æ¥åˆ° ComfyUI æœåŠ¡å™¨" | è‡ªåŠ¨æ£€æµ‹æœåŠ¡å™¨çŠ¶æ€å’Œç½‘ç»œè¿é€šæ€§ |
| **è®¤è¯é—®é¢˜** | "API å¯†é’¥æ— æ•ˆæˆ–å·²è¿‡æœŸ"      | è‡ªåŠ¨éªŒè¯è®¤è¯å‡­æ®æœ‰æ•ˆæ€§     |
| **æƒé™é—®é¢˜** | "è®¿é—®æƒé™ä¸è¶³"            | è‡ªåŠ¨æ£€æŸ¥ç”¨æˆ·æƒé™å’Œæ–‡ä»¶è®¿é—®æƒé™ |
| **æ¨¡å‹é—®é¢˜** | "æ‰¾ä¸åˆ°æŒ‡å®šçš„æ¨¡å‹æ–‡ä»¶"        | è‡ªåŠ¨æ‰«æå¯ç”¨æ¨¡å‹å¹¶å»ºè®®æ›¿ä»£æ–¹æ¡ˆ |
| **é…ç½®é—®é¢˜** | "é…ç½®æ–‡ä»¶å­˜åœ¨é”™è¯¯"          | è‡ªåŠ¨éªŒè¯é…ç½®å®Œæ•´æ€§å’Œè¯­æ³•æ­£ç¡®æ€§ |

<details>
  <summary><b>ğŸ” ä¼ ç»Ÿæ•…éšœæ’é™¤æ–¹æ³•</b></summary>

  #### 1. è¿æ¥å¤±è´¥

  **é—®é¢˜**ï¼šæ— æ³•è¿æ¥åˆ° ComfyUI æœåŠ¡å™¨

  **è§£å†³æ–¹æ¡ˆ**ï¼š

  ```bash
  # ç¡®è®¤æœåŠ¡å™¨è¿è¡Œ
  curl http://localhost:8000/system_stats

  # æ£€æŸ¥ç«¯å£
  netstat -tulpn | grep 8000
  ```

  #### 2. å†…å­˜ä¸è¶³

  **é—®é¢˜**ï¼šç”Ÿæˆè¿‡ç¨‹ä¸­å‡ºç°å†…å­˜é”™è¯¯

  **è§£å†³æ–¹æ¡ˆ**ï¼š

  - é™ä½å›¾åƒåˆ†è¾¨ç‡
  - å‡å°‘ç”Ÿæˆæ­¥æ•°
  - ä½¿ç”¨é‡åŒ–æ¨¡å‹

  #### 3. è®¤è¯å¤±è´¥

  **é—®é¢˜**ï¼š401 æˆ– 403 é”™è¯¯

  **è§£å†³æ–¹æ¡ˆ**ï¼š

  - éªŒè¯è®¤è¯é…ç½®
  - æ£€æŸ¥ Token æ˜¯å¦è¿‡æœŸ
  - ç¡®è®¤ç”¨æˆ·æƒé™
</details>

## æœ€ä½³å®è·µ

### æç¤ºè¯ç¼–å†™

1. **è¯¦ç»†æè¿°**ï¼šæä¾›æ¸…æ™°ã€è¯¦ç»†çš„å›¾åƒæè¿°
2. **é£æ ¼æŒ‡å®š**ï¼šæ˜ç¡®æŒ‡å®šè‰ºæœ¯é£æ ¼ã€è‰²å½©é£æ ¼ç­‰
3. **è´¨é‡å…³é”®è¯**ï¼šæ·»åŠ  "4K", "high quality", "detailed" ç­‰å…³é”®è¯
4. **é¿å…çŸ›ç›¾**ï¼šç¡®ä¿æè¿°å†…å®¹é€»è¾‘ä¸€è‡´

**ç¤ºä¾‹**ï¼š

```plaintext
A young woman with flowing long hair, wearing an elegant blue dress, standing in a cherry blossom park,
sunlight filtering through leaves, warm atmosphere, cinematic lighting, 4K high resolution, detailed, photorealistic
```

### å‚æ•°è°ƒä¼˜

1. **FLUX Schnell**ï¼šé€‚åˆå¿«é€Ÿé¢„è§ˆï¼Œä½¿ç”¨ 4 æ­¥ç”Ÿæˆ
2. **FLUX Dev**ï¼šå¹³è¡¡è´¨é‡å’Œé€Ÿåº¦ï¼ŒCFG 3.5ï¼Œæ­¥æ•° 20
3. **FLUX Krea-dev**ï¼šå®‰å…¨åˆ›ä½œï¼ŒCFG 4.5ï¼Œæ³¨æ„å†…å®¹è¿‡æ»¤
4. **FLUX Kontext-dev**ï¼šå›¾åƒç¼–è¾‘ï¼Œstrength 0.6-0.9

<Callout type={'warning'}>
  åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­è¯·æ³¨æ„ï¼š

  - FLUX Devã€Krea-devã€Kontext-dev æ¨¡å‹ä»…é™éå•†ä¸šä½¿ç”¨
  - ç”Ÿæˆå†…å®¹è¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’Œå¹³å°æ”¿ç­–
  - å¤§å‹æ¨¡å‹ç”Ÿæˆå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…
</Callout>

## API å‚è€ƒ

<details>
  <summary><b>ğŸ“š API æ–‡æ¡£</b></summary>

  ### è¯·æ±‚æ ¼å¼

  ```typescript
  interface ComfyUIRequest {
    model: string; // æ¨¡å‹ IDï¼Œå¦‚ 'flux-schnell'
    prompt: string; // æ–‡æœ¬æç¤ºè¯
    width: number; // å›¾åƒå®½åº¦
    height: number; // å›¾åƒé«˜åº¦
    steps: number; // ç”Ÿæˆæ­¥æ•°
    seed: number; // éšæœºç§å­
    cfg?: number; // CFG Scale (Dev/Krea/Kontext ä¸“ç”¨)
    strength?: number; // ç¼–è¾‘å¼ºåº¦ (Kontext ä¸“ç”¨)
    imageUrl?: string; // è¾“å…¥å›¾åƒ (Kontext ä¸“ç”¨)
  }
  ```

  ### å“åº”æ ¼å¼

  ```typescript
  interface ComfyUIResponse {
    images: Array<{
      url: string; // ç”Ÿæˆçš„å›¾åƒ URL
      filename: string; // æ–‡ä»¶å
      subfolder: string; // å­ç›®å½•
      type: string; // æ–‡ä»¶ç±»å‹
    }>;
    prompt_id: string; // æç¤º ID
  }
  ```

  ### é”™è¯¯ä»£ç 

  | é”™è¯¯ä»£ç   | æè¿°     | è§£å†³å»ºè®®           |
  | ----- | ------ | -------------- |
  | `400` | è¯·æ±‚å‚æ•°æ— æ•ˆ | æ£€æŸ¥å‚æ•°æ ¼å¼å’ŒèŒƒå›´      |
  | `401` | è®¤è¯å¤±è´¥   | éªŒè¯ API å¯†é’¥å’Œè®¤è¯é…ç½® |
  | `403` | æƒé™ä¸è¶³   | æ£€æŸ¥ç”¨æˆ·æƒé™         |
  | `404` | æ¨¡å‹æœªæ‰¾åˆ°  | ç¡®è®¤æ¨¡å‹æ–‡ä»¶å­˜åœ¨       |
  | `500` | æœåŠ¡å™¨é”™è¯¯  | æ£€æŸ¥ ComfyUI æ—¥å¿—  |
</details>

è‡³æ­¤ä½ å·²ç»å¯ä»¥åœ¨ LobeChat ä¸­ä½¿ç”¨ ComfyUI è¿›è¡Œé«˜è´¨é‡çš„ AI å›¾åƒç”Ÿæˆå’Œç¼–è¾‘äº†ã€‚å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·å‚è€ƒæ•…éšœæ’é™¤éƒ¨åˆ†æˆ–æŸ¥é˜… [ComfyUI å®˜æ–¹æ–‡æ¡£](https://github.com/comfyanonymous/ComfyUI)ã€‚
