# Console.log Checker

This project includes a GitHub CI check to prevent `console.log` statements from being committed to the codebase.

## Running the Check Locally

Run the console.log checker:

```bash
bun run lint:console
```

Or run it directly:

```bash
bunx tsx scripts/checkConsoleLog.mts
```

**Note:** The check shows warnings but won't fail (exit code 0), so it won't block your build or CI pipeline.

## Whitelist Configuration

The whitelist is configured in `.console-log-whitelist.json`. You can add files or patterns that should be allowed to use `console.log`.

### Configuration Format

```json
{
  "files": ["path/to/specific/file.ts"],
  "patterns": ["scripts/**/*.mts", "**/*.test.ts"]
}
```

### Whitelist Options

- **files**: Exact file paths that are allowed to use `console.log`
- **patterns**: Glob-like patterns for matching multiple files
  - `*` matches any characters except `/`
  - `**` matches any characters including `/`
  - Example: `scripts/**/*.ts` matches all TypeScript files in the scripts directory and subdirectories

### Default Whitelisted Patterns

The following patterns are whitelisted by default:

- `scripts/**` - Build and workflow scripts
- `**/*.test.ts` and `**/*.test.tsx` - Test files
- `**/*.spec.ts` and `**/*.spec.tsx` - Spec files
- `**/examples/**` - Example code and demos
- `e2e/**` - End-to-end test files
- `.github/scripts/**` - GitHub workflow scripts
- `apps/desktop/**` - Desktop application code
- `drizzle.config.ts` - Database configuration

## CI Check

The check runs automatically on:

- Pull requests to `main`
- Pushes to `main`

**Note:** This is a **non-blocking warning check**. It will show warnings but won't prevent merging.

If warnings appear, you have two options:

1. **Remove the console.log** (recommended) - Replace with proper logging utilities
2. **Add to whitelist** - If the `console.log` is intentional (e.g., in scripts or build tools)

## Best Practices

- Use proper logging libraries instead of `console.log` in production code
- Debug logs should be removed before committing
- Scripts and build tools can use `console.log` for output
- Test files can use `console.log` for debugging
