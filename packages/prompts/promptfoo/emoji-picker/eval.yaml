description: Test emoji selection for different conversation topics and contexts

providers:
  - openai:chat:gpt-5-mini
  - openai:chat:claude-3-5-haiku-latest
  - openai:chat:gemini-flash-latest
  - openai:chat:deepseek-chat

prompts:
  - file://promptfoo/emoji-picker/prompt.ts

tests:
  - vars:
      content: "I just got a promotion at work! I'm so excited!"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select a positive, celebratory emoji appropriate for work success (e.g., ğŸ‰, ğŸŠ, â­, ğŸ’¼, ğŸš€)"
      - type: not-contains
        value: "explanation"

  - vars:
      content: "My dog passed away yesterday. I'm really sad."
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select a sympathetic, sad emoji appropriate for loss and grief (e.g., ğŸ˜¢, ğŸ˜­, ğŸ’”, ğŸ˜”)"
      - type: not-contains
        value: "explanation"

  - vars:
      content: "Can you help me with this math problem?"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to learning, thinking, or mathematics (e.g., ğŸ¤”, ğŸ“š, âœï¸, ğŸ§®, ğŸ”¢)"
      - type: not-contains
        value: "explanation"

  - vars:
      content: "I'm going on vacation to Hawaii next week!"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to vacation, travel, or tropical themes (e.g., ğŸŒº, ğŸ–ï¸, âœˆï¸, ğŸŒ´, â˜€ï¸)"
      - type: not-contains
        value: "explanation"

  - vars:
      content: "I'm learning to cook Italian food"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to cooking or Italian food (e.g., ğŸ, ğŸ•, ğŸ‘¨â€ğŸ³, ğŸ½ï¸)"
      - type: not-contains
        value: "explanation"

  - vars:
      content: "Technical documentation about API endpoints"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to technology, development, or documentation (e.g., ğŸ’», ğŸ“–, âš™ï¸, ğŸ”§, ğŸ“)"
      - type: not-contains
        value: "explanation"

  # Chinese language tests
  - vars:
      content: "æˆ‘åˆšåˆšå‡èŒäº†ï¼å¤ªæ¿€åŠ¨äº†ï¼"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select a positive, celebratory emoji appropriate for work success (e.g., ğŸ‰, ğŸŠ, â­, ğŸ’¼, ğŸš€)"
      - type: not-contains
        value: "explanation"

  - vars:
      content: "æˆ‘çš„çŒ«å’ªæ˜¨å¤©å»ä¸–äº†ï¼Œæˆ‘å¾ˆéš¾è¿‡"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select a sympathetic, sad emoji appropriate for loss and grief (e.g., ğŸ˜¢, ğŸ˜­, ğŸ’”, ğŸ˜”)"
      - type: not-contains
        value: "explanation"

  - vars:
      content: "æˆ‘æ­£åœ¨å­¦ä¹ åšæ—¥æœ¬æ–™ç†"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to cooking or Japanese food (e.g., ğŸ±, ğŸ£, ğŸœ, ğŸ‘¨â€ğŸ³)"
      - type: not-contains
        value: "explanation"

  # Spanish language tests
  - vars:
      content: "Â¡Me voy de vacaciones a la playa la prÃ³xima semana!"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to vacation, beach, or tropical themes (e.g., ğŸ–ï¸, â˜€ï¸, ğŸŒŠ, ğŸï¸)"
      - type: not-contains
        value: "explanation"

  - vars:
      content: "Estoy estudiando para mi examen de matemÃ¡ticas"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to studying, learning, or mathematics (e.g., ğŸ“š, ğŸ¤“, ğŸ§®, âœï¸, ğŸ“Š, ğŸ“, ğŸ“)"
      - type: not-contains
        value: "explanation"

  # French language tests
  - vars:
      content: "Je viens de terminer mon marathon! Je suis Ã©puisÃ© mais heureux"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to running, sports, or achievement (e.g., ğŸƒ, ğŸ…, ğŸ’ª, ğŸ¯)"
      - type: not-contains
        value: "explanation"

  - vars:
      content: "J'apprends Ã  jouer de la guitare"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to music or guitar (e.g., ğŸ¸, ğŸµ, ğŸ¶, ğŸ¼)"
      - type: not-contains
        value: "explanation"

  # Japanese language tests
  - vars:
      content: "æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå§‹ã¾ã‚Šã¾ã—ãŸï¼é ‘å¼µã‚Šã¾ã™"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to new beginning, work, or motivation (e.g., ğŸš€, ğŸ’¼, ğŸ’ª, âœ¨)"
      - type: not-contains
        value: "explanation"

  - vars:
      content: "æ¡œãŒå’²ã„ã¦æœ¬å½“ã«ç¶ºéº—ã§ã™"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to cherry blossoms, flowers, or beauty (e.g., ğŸŒ¸, ğŸŒº, ğŸŒ¼, ğŸŒ·)"
      - type: not-contains
        value: "explanation"

  # German language tests
  - vars:
      content: "Ich habe gerade ein neues Auto gekauft!"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to cars or excitement (e.g., ğŸš—, ğŸ‰, ğŸš™)"
      - type: not-contains
        value: "explanation"

  # Russian language tests
  - vars:
      content: "Ğ¯ Ğ»ÑĞ±Ğ»Ñ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ ĞºĞ½Ğ¸Ğ³Ğ¸ Ğ¿Ğ¾ Ğ²ĞµÑ‡ĞµÑ€Ğ°Ğ¼"
    assert:
      - type: llm-rubric
        provider: openai:gpt-5-mini
        value: "Should select an emoji related to reading or books (e.g., ğŸ“š, ğŸ“–, ğŸ“•, ğŸ¤“)"
      - type: not-contains
        value: "explanation"
