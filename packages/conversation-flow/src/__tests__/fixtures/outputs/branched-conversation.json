{
  "contextTree": [
    {
      "type": "branch",
      "id": "branch-msg-201-5",
      "parentMessageId": "msg-201",
      "activeBranchIndex": 0,
      "branches": [
        [
          {
            "type": "message",
            "id": "message-msg-202-2",
            "messageId": "msg-202",
            "children": [
              {
                "type": "message",
                "id": "message-msg-205-1",
                "messageId": "msg-205",
                "children": [
                  {
                    "type": "message",
                    "id": "message-msg-206-0",
                    "messageId": "msg-206",
                    "children": []
                  }
                ]
              }
            ]
          }
        ],
        [
          {
            "type": "message",
            "id": "message-msg-203-3",
            "messageId": "msg-203",
            "children": []
          }
        ],
        [
          {
            "type": "message",
            "id": "message-msg-204-4",
            "messageId": "msg-204",
            "children": []
          }
        ]
      ]
    }
  ],
  "flatList": [
    {
      "id": "msg-201",
      "role": "user",
      "content": "Write a haiku about programming",
      "parentId": null,
      "createdAt": 1704067200000,
      "updatedAt": 1704067200000,
      "meta": {},
      "extra": {
        "branches": {
          "count": 3,
          "current": 0,
          "items": [
            {
              "id": "msg-202",
              "createdAt": 1704067203000
            },
            {
              "id": "msg-203",
              "createdAt": 1704067203100
            },
            {
              "id": "msg-204",
              "createdAt": 1704067203200
            }
          ]
        }
      }
    },
    {
      "id": "msg-202",
      "role": "assistant",
      "content": "Code flows like water,\nBugs hide in silent shadows,\nDebug brings the light.",
      "parentId": "msg-201",
      "createdAt": 1704067203000,
      "updatedAt": 1704067203000,
      "meta": {},
      "usage": {
        "totalInputTokens": 12,
        "totalOutputTokens": 28,
        "totalTokens": 40
      }
    },
    {
      "id": "msg-203",
      "role": "assistant",
      "content": "Functions compile,\nVariables dance in memory,\nAlgorithm sings.",
      "parentId": "msg-201",
      "createdAt": 1704067203100,
      "updatedAt": 1704067203100,
      "meta": {},
      "usage": {
        "totalInputTokens": 12,
        "totalOutputTokens": 24,
        "totalTokens": 36
      }
    },
    {
      "id": "msg-204",
      "role": "assistant",
      "content": "Lines of logic flow,\nErrors break the peaceful code,\nTests restore the calm.",
      "parentId": "msg-201",
      "createdAt": 1704067203200,
      "updatedAt": 1704067203200,
      "meta": {},
      "usage": {
        "totalInputTokens": 12,
        "totalOutputTokens": 26,
        "totalTokens": 38
      }
    },
    {
      "id": "msg-205",
      "role": "user",
      "content": "I like the first one best!",
      "parentId": "msg-202",
      "createdAt": 1704067220000,
      "updatedAt": 1704067220000,
      "meta": {}
    },
    {
      "id": "msg-206",
      "role": "assistant",
      "content": "Thank you! I'm glad you enjoyed it. The metaphor of light revealing hidden bugs is one of my favorites. Would you like me to write more haikus on different programming topics?",
      "parentId": "msg-205",
      "createdAt": 1704067222000,
      "updatedAt": 1704067222000,
      "meta": {},
      "usage": {
        "totalInputTokens": 52,
        "totalOutputTokens": 48,
        "totalTokens": 100
      }
    }
  ],
  "messageMap": {
    "msg-201": {
      "id": "msg-201",
      "role": "user",
      "content": "Write a haiku about programming",
      "parentId": null,
      "createdAt": 1704067200000,
      "updatedAt": 1704067200000,
      "meta": {}
    },
    "msg-202": {
      "id": "msg-202",
      "role": "assistant",
      "content": "Code flows like water,\nBugs hide in silent shadows,\nDebug brings the light.",
      "parentId": "msg-201",
      "createdAt": 1704067203000,
      "updatedAt": 1704067203000,
      "meta": {},
      "usage": {
        "totalInputTokens": 12,
        "totalOutputTokens": 28,
        "totalTokens": 40
      }
    },
    "msg-203": {
      "id": "msg-203",
      "role": "assistant",
      "content": "Functions compile,\nVariables dance in memory,\nAlgorithm sings.",
      "parentId": "msg-201",
      "createdAt": 1704067203100,
      "updatedAt": 1704067203100,
      "meta": {},
      "usage": {
        "totalInputTokens": 12,
        "totalOutputTokens": 24,
        "totalTokens": 36
      }
    },
    "msg-204": {
      "id": "msg-204",
      "role": "assistant",
      "content": "Lines of logic flow,\nErrors break the peaceful code,\nTests restore the calm.",
      "parentId": "msg-201",
      "createdAt": 1704067203200,
      "updatedAt": 1704067203200,
      "meta": {},
      "usage": {
        "totalInputTokens": 12,
        "totalOutputTokens": 26,
        "totalTokens": 38
      }
    },
    "msg-205": {
      "id": "msg-205",
      "role": "user",
      "content": "I like the first one best!",
      "parentId": "msg-202",
      "createdAt": 1704067220000,
      "updatedAt": 1704067220000,
      "meta": {}
    },
    "msg-206": {
      "id": "msg-206",
      "role": "assistant",
      "content": "Thank you! I'm glad you enjoyed it. The metaphor of light revealing hidden bugs is one of my favorites. Would you like me to write more haikus on different programming topics?",
      "parentId": "msg-205",
      "createdAt": 1704067222000,
      "updatedAt": 1704067222000,
      "meta": {},
      "usage": {
        "totalInputTokens": 52,
        "totalOutputTokens": 48,
        "totalTokens": 100
      }
    }
  }
}