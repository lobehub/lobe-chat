{
  "contextTree": [
    {
      "id": "msg-201",
      "type": "message"
    },
    {
      "activeBranchIndex": 1,
      "branches": [
        [
          {
            "id": "msg-202",
            "type": "message"
          },
          {
            "id": "msg-205",
            "type": "message"
          },
          {
            "id": "msg-206",
            "type": "message"
          },
          {
            "id": "msg-209",
            "type": "message"
          },
          {
            "id": "msg-210",
            "type": "message"
          }
        ],
        [
          {
            "id": "msg-203",
            "type": "message"
          },
          {
            "id": "msg-207",
            "type": "message"
          },
          {
            "id": "msg-208",
            "type": "message"
          }
        ],
        [
          {
            "id": "msg-204",
            "type": "message"
          }
        ]
      ],
      "id": "branch-msg-201-0",
      "parentMessageId": "msg-201",
      "type": "branch"
    }
  ],
  "flatList": [
    {
      "id": "msg-201",
      "role": "user",
      "content": "Write a haiku about programming",
      "parentId": null,
      "createdAt": 1704067200000,
      "updatedAt": 1704067200000,
      "meta": {},
      "metadata": {
        "activeBranchIndex": 1
      },
      "branch": {
        "activeBranchIndex": 1,
        "count": 3
      }
    },
    {
      "id": "msg-203",
      "role": "assistant",
      "content": "Functions compile,\nVariables dance in memory,\nAlgorithm sings.",
      "parentId": "msg-201",
      "createdAt": 1704067203100,
      "updatedAt": 1704067203100,
      "meta": {},
      "metadata": {
        "totalInputTokens": 12,
        "totalOutputTokens": 24,
        "totalTokens": 36,
        "cost": 0.000108
      }
    },
    {
      "id": "msg-207",
      "role": "user",
      "content": "Actually, I prefer the second one with the dancing variables.",
      "parentId": "msg-203",
      "createdAt": 1704067225000,
      "updatedAt": 1704067225000,
      "meta": {}
    },
    {
      "id": "msg-208",
      "role": "assistant",
      "content": "I appreciate your feedback! The imagery of variables dancing in memory really captures the dynamic nature of programming. Would you like me to explore more haikus with that kind of vivid metaphor?",
      "parentId": "msg-207",
      "createdAt": 1704067227000,
      "updatedAt": 1704067227000,
      "meta": {},
      "metadata": {
        "totalInputTokens": 48,
        "totalOutputTokens": 52,
        "totalTokens": 100,
        "cost": 0.0003
      }
    }
  ],
  "messageMap": {
    "msg-201": {
      "id": "msg-201",
      "role": "user",
      "content": "Write a haiku about programming",
      "parentId": null,
      "createdAt": 1704067200000,
      "updatedAt": 1704067200000,
      "meta": {},
      "metadata": {
        "activeBranchIndex": 1
      }
    },
    "msg-202": {
      "id": "msg-202",
      "role": "assistant",
      "content": "Code flows like water,\nBugs hide in silent shadows,\nDebug brings the light.",
      "parentId": "msg-201",
      "createdAt": 1704067203000,
      "updatedAt": 1704067203000,
      "meta": {},
      "metadata": {
        "totalInputTokens": 12,
        "totalOutputTokens": 28,
        "totalTokens": 40,
        "cost": 0.00012
      }
    },
    "msg-203": {
      "id": "msg-203",
      "role": "assistant",
      "content": "Functions compile,\nVariables dance in memory,\nAlgorithm sings.",
      "parentId": "msg-201",
      "createdAt": 1704067203100,
      "updatedAt": 1704067203100,
      "meta": {},
      "metadata": {
        "totalInputTokens": 12,
        "totalOutputTokens": 24,
        "totalTokens": 36,
        "cost": 0.000108
      }
    },
    "msg-204": {
      "id": "msg-204",
      "role": "assistant",
      "content": "Lines of logic flow,\nErrors break the peaceful code,\nTests restore the calm.",
      "parentId": "msg-201",
      "createdAt": 1704067203200,
      "updatedAt": 1704067203200,
      "meta": {},
      "metadata": {
        "totalInputTokens": 12,
        "totalOutputTokens": 26,
        "totalTokens": 38,
        "cost": 0.000114
      }
    },
    "msg-205": {
      "id": "msg-205",
      "role": "user",
      "content": "I like the first one best!",
      "parentId": "msg-202",
      "createdAt": 1704067220000,
      "updatedAt": 1704067220000,
      "meta": {}
    },
    "msg-206": {
      "id": "msg-206",
      "role": "assistant",
      "content": "Thank you! I'm glad you enjoyed it. The metaphor of light revealing hidden bugs is one of my favorites. Would you like me to write more haikus on different programming topics?",
      "parentId": "msg-205",
      "createdAt": 1704067222000,
      "updatedAt": 1704067222000,
      "meta": {},
      "metadata": {
        "totalInputTokens": 52,
        "totalOutputTokens": 48,
        "totalTokens": 100,
        "cost": 0.0003
      }
    },
    "msg-207": {
      "id": "msg-207",
      "role": "user",
      "content": "Actually, I prefer the second one with the dancing variables.",
      "parentId": "msg-203",
      "createdAt": 1704067225000,
      "updatedAt": 1704067225000,
      "meta": {}
    },
    "msg-208": {
      "id": "msg-208",
      "role": "assistant",
      "content": "I appreciate your feedback! The imagery of variables dancing in memory really captures the dynamic nature of programming. Would you like me to explore more haikus with that kind of vivid metaphor?",
      "parentId": "msg-207",
      "createdAt": 1704067227000,
      "updatedAt": 1704067227000,
      "meta": {},
      "metadata": {
        "totalInputTokens": 48,
        "totalOutputTokens": 52,
        "totalTokens": 100,
        "cost": 0.0003
      }
    },
    "msg-209": {
      "id": "msg-209",
      "role": "user",
      "content": "Yes, please write one more about debugging!",
      "parentId": "msg-206",
      "createdAt": 1704067230000,
      "updatedAt": 1704067230000,
      "meta": {}
    },
    "msg-210": {
      "id": "msg-210",
      "role": "assistant",
      "content": "Console logs cascade,\nBreakpoints pause the racing code,\nTruth emerges clear.",
      "parentId": "msg-209",
      "createdAt": 1704067232000,
      "updatedAt": 1704067232000,
      "meta": {},
      "metadata": {
        "totalInputTokens": 78,
        "totalOutputTokens": 24,
        "totalTokens": 102,
        "cost": 0.000306
      }
    }
  }
}
